---
title: "LineUp：多属性排名的可视分析方法"
date: 2018-05-31T14:21:53+08:00
tags: ["数据可视化", "TVCG"]
cover: "/images/LineUp4.png"
---

排名是一种流行的通用方法，通过基于一个或多个属性的值为每个项目计算排名来构造有序的项目集合。这使我们能够评估各项目相对于彼此的性能。虽然排名本身的直观性很强，但它的解释并不直观，因为一个项目的排名仅代表其属性与其他项目之间潜在复杂关系的总结。所以需要对排名进行比较和分析，以深入了解多个异构属性如何影响排名。人们需要先进的视觉探索工具来使这个过程变得更加高效。在本文中，作者对多属性排名的可视化要求进行了全面分析。基于这些考虑，作者提出了 LineUp：一种使用条形图的新颖且可扩展的可视化技术。这种交互式技术支持基于具有不同尺度和语义的多个不同属性的项目排序。它使用户能够交互式地组合属性并灵活地改进参数，以探索属性组合中变化的影响。此外，通过整合斜坡图，LineUp 还可用于比较同一组项目上的多个备选排名，例如，随时间推移或跨越不同的属性组合。

<!--more-->

[原文链接：LineUp: Visual Analysis of Multi-Attribute Rankings](/files/LineUp.pdf)

# 一、介绍
- 多属性动态客观排名，每个属性起什么样的作用是难以理解的。

# 二、需求分析
1. 编码排名：用户应该能够快速掌握每一项的排名
2. 编码导致排名的因素：有一个造成排名的总分
3. 支持多属性排序：能组合多个属性的值来产生总分进而排序
4. 支持过滤
5. 属性值到分数的灵活映射
6. 适应任务的可拓展性：如何权衡细节层级和可拓展性
7. 处理缺失值：属性缺失数据时，删除项或赋最低值，但这样对特定任务来说是难以接受的
8. 交互性的细化和视觉反馈：增删属性、修改属性组合、改变权重和映射
9. 排名驱动的属性优化：一个项目的值和权重变化对排名的影响
10. 比较多个排名

# 三、相关工作
![](/images/LineUp1.png)

## 3.1 电子表格
- 违反了 R2、R8、R10
- 没有对数值进行编码，大规模数据时这样是糟糕的、易出错的。

## 3.2 基于点的技术
- 位置是一个有效的编码数值型数据的视觉变量
- 简单的散点图可以比较两个排名，满足 R10
- 一个散点图要么关注与排名，要么关注与每个属性值
- 使用散点图矩阵比较两个排名，满足 R3

## 3.3 基于区域的技术
- 长度是一个有效的编码数值型数据的视觉变量
- 多属性编码中，条有三种方式：
	- 通过将每个属性的条对齐到单独的基线：可以比较每项每个属性
	- 通过显示多个条在同一基线上：可以比较单个项的不同属性
	- 通过使用堆叠条形图：可以比较每个项的所有属性之和，也粗略描述了如何组合所有属性

## 3.4 基于线的技术
- 斜率图：可以反映数据项时间序列变化
- 凹凸图：专门的斜率图，使用户可以比较多个排序
- 平行坐标图

## 3.5 排序可视化技术
- 讨论了当前存在的前沿排序可视化技术，并探讨了优劣。

# 四、多属性排名可视化技术
- 4.1：LineUp 基本设计
- 4.2：为属性集创建组合分数
- 4.3：排名变化编码：满足交互式细化与视觉反馈
- 4.4：多排名比较
- 4.5：可拓展性
- 4.6：数据映射和过滤
- 4.7：数据丢失

## 4.1 基础设计和交互
- 支持的列类型：
	- 排序的列：用于 rank 排名大小
	- 文本属性列：item label，提供一些上下文信息，如：名字
	- 分类属性列：类似于文本属性列
	- 数值属性列：header 展示了数值分布情况
	- 组合属性列：数值属性集合的组合
- 堆叠条形图
- 空间足够时，被选中项显示原始的和归一化的属性值。
- 为了简化对 item 的跟踪，行被赋予交替的背景颜色。

## 4.2 组合属性
- 操作：组合与分离。拖动一个属性 header 到另一个属性 header 来组合属性；拖出并放下来分离组合属性。

### 4.2.1 Serial Combination
- 堆叠直方图，对多属性加权分数求和。
- 属性权重由列 header 决定，拖动 or 直接输入皆可。
- 比较不同 item 的单个属性时更复杂，由于只有第一个属性校准了基准线。
- 策略：四种校准策略，可以自由切换
	- classical
	- diverging：基准线可以调整到任意属性
	- ordered：将属性 bar 降序排列
	- all-aligned
![](/images/LineUp2.png)

### 4.2.2 Parallel Combination
- 组合属性分数是属性集合中的最大值。
- 对 item 排名没有贡献的属性得分，只有 item 被选中时才会显示。
- 选中 item 时，相关 bar 会画在每个的顶部，为避免小值与大值重叠，bar 按照长度排序。
![](/images/LineUp3.png)

## 4.3 排名变化编码
- 需求：改变权重、设置过滤、创建或细化组合属性时，用户需要及时的反馈。
- 解决方案：LineUp 使用一个动画变化和颜色编码的组合来保持对排名变化的跟踪。
- 挑战：大量变化的 item，动画轨迹路径交叉。难以跟随变化。 
- 具体设计：
	- 排名上升绿色编码、下降红色编码。
	- 动画时间和颜色强度依赖于排名改变程度。
	- 排名变化编码只展示于改变发生后的一段有限的时间，并逐渐淡去。

## 4.4 多排名比较
- 需求：分析排名之间的不同时，动画变化和颜色编码的作用是有限的。需要一个更好的可视方法来帮助用户更细节的评估变化。
- 需求深入：对于相同的 item 集合，想要使用户能比较不同的排名。
- 作用：利于观察变化、利于分析和比较不同的属性组合和权重配置。
- 具体设计：水平放置多个排名，连接相同 item，斜率图。为了允许用户追踪用户触发动作的具体变化，允许创建快照。
- 潜在问题：连接的项目可能超出可见区域。
- 解决方案：减少杂乱，指向不可见 item 代表指向不可见目标。
![](/images/LineUp4.png)

## 4.5 可拓展性
- 强大的排序可视化需要能够支持大量的属性和大量的数据项。

### 4.5.1 大量属性
- 方法：滚动条、减少属性列宽度
- 问题1：信息过于密集，且 bar 不能在小的空间有效编码数据
- 解决方式：
	- collapsing：条形图切换为灰度热图
	- compressing：对 serial combination，不展示细节分数，只有 summary bar
	- memo pad：将不感兴趣的属性移除至此
- 问题2：属性多时可供选择的编码颜色不足
- 解决方式：相同的颜色编码语义相关的属性。但该方法是否有效取决于具体的任务和场景，对于颜色和属性的映射有待精炼。

### 4.5.2 大量 Items
- 方法：过滤和优化
- 具体描述：
	- 均匀线间距：每一页显示固定数量的 items（100个左右）
	- 鱼眼：效果更好，但失真会使得斜率不可靠

## 4.6 数据映射
- 定义：将数值或有序分类属性值转化为在[0,1]之间的标准化分数。
- 默认是线性映射，自动从数据集推断边界，无需用户交互。
- LineUp 可创建复杂的映射，三种方法：
	1. 从常用的映射函数中选择（log、倒数...）
	2. visual data mapping editor，允许交互式创建映射
	3. 脚本接口，可创建复杂映射（多项式...）
- visual data mapping editor：映射函数的修改会实时反馈到可视化上
	- 平行映射编辑器
	- 正交映射编辑器
![](/images/LineUp5.png)

## 4.7 数据丢失
- 当前解决方式：舍弃该 item；丢失数据值取 0。
- 本文的解决方式：推测丢失的数据值
- 挑战：没有普遍适用的方法来推测丢失的数据值。
- 本文应用的一些标准方法：计算中位数和平均值。
- 进而产生的问题：如何可视化推测出的人造数据值。
- 本文的解决方式：bar 中的虚线边框表示推断出的数据。

# 五、实现
- 采用了 Caleydo 这一开源数据可视化框架。
- [demo](http://lineup.caleydo.org)

# 六、案例
- 食物产品营养
- 大学排名

# 七、评估
- 下述文字讨论了应该如何评估 LineUp（有效性、高效性） 以及支撑的理由。
- 将 LineUp 和现阶段已有工具进行比较和评估：
	- 有效性：LineUp 能解决的需求，Excel、Tableau Desktop 专家也能解决，比较谁的结果更有效。
	- 高效性：显而易见，LineUp 更高效。后者更加繁琐耗时，且新手难以上手。
- 关于有效性的评估，寻找证据支撑是困难的，因为：
	1. 专家使用 Excel 和新手使用 LineUp 的比较是无法成为证据的。因为不知道结果是主体（专家、小白）背景造成的还是工具造成的。
	2. 对于 1，无法控制变量解决：
		- 专家用 Excel 和 LineUp 的效果无法成为证据。因为专家本身的背景而具有偏见，且专家不是目标受众。
		- 小白无法成为证据，因为小白无法使用 Excel 如此复杂的工具完成给定任务。
- 因此，有效性方面，将现阶段成果与 LineUp 比较和评估是困难的。定性评估 LineUp 的有效性更有意义。

## 7.1 研究规划
- 内容包含：
	- 参与调查者情况分析
	- 研究调查实验过程详细记录

## 7.2 结果和讨论
- 调查方式：
	- 任务调查表
	- 7-point Likert
- 用户的任务完成与调查结果
- 用户反馈的建议

# 八、结论
- 最初是为了领域专家能解决生物学问题，当意识到可以推广到通用排名解决方案时，LineUp 诞生了。 
- LineUp 优势：权重和映射的实时交互跟踪改进。
- 未来计划：
	- 计算一个或多个属性需要如何改变，来使 item 达到给定等级。
	- 如何使用统计技术帮助用户有效处理大量属性。
- 斜率图支持比较多个 ranking 的排名，但尚有不足。
- 最后，验证了算法和设计。但仍需要在现实中观察和分析 LineUp 的实际应用。