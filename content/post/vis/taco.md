---
title: "TACO：表格随时间变化的可视化"
date: 2018-06-02T13:09:36+08:00
tags: ["数据可视化", "TVCG"]
cover: "/images/TACO6.png"
---

多变量表格式的数据在生活中非常普遍，同时，表格可以进行结构和内容的改变，从而导致了同个表格的多种版本。然而，对于这些衍生的表格，很难理解它们在增删、重排序、合并和分裂、内容改变之间，究竟发生了什么变化。尤其是对于千万条条目级别的大型表格。本文作者提出了 TACO (TAble COmparison) 这一交互式比较工具，用于可视化不同细节等级的不同表格之间的不同。

<!--more-->

[原文链接：TACO: Visualizing Changes in Tables Over Time](/files/TACO.pdf)

# 一、介绍
## 1.1 摘要和介绍
- 背景：
	- 多变量表格式数据的普遍
	- 表格可以进行结构和内容的改变，从而导致了同个表格的多种版本
- 存在的问题：
	- 难以理解这些衍生的表格，在增删、重排序、合并和分裂、内容改变之间，究竟发生了什么变化。
	- 通过四种类型的改变来区分表格：
		- structural(add/remove)
		- content
		- reorder
		- split/merge
- 现状：
	- 存在多种比较工具，用于协助用户发现不同
- 仍未解决的问题：
	- 对发现不同的结果的可视化，是难以理解和难以解释的
	- 无法应用于千万条目级别的大型表格
- 如何解决：TACO (TAble COmparison)，交互式比较工具，用于可视化不同细节等级的不同表格之间的不同。可以展示：
	1. 随着时间推移，多个表格版本之间的聚合差异
	2. 两个被选中表格版本的聚合更改。
	3. 两个被选中表格的详细更改
- 如何证明有效性：两个用户场景
	1. 1986 —— 2012 奥运奖牌榜
	2. 大型生物医学数据集，TCGA（癌症基因组地图集）项目的演化

## 1.2 作者介绍
### a) [Christina Niederer](http://mc.fhstp.ac.at/people/christina-niederer)
- 圣波尔滕应用科技大学，奥地利
- 10 —— 13：本科，媒体技术/交互媒体
- 13 —— 15：硕士，数字媒体技术/媒体计算，supervised by Wolfgang Aigner
- 15 至今：初级研究员，媒体计算研究组

### b) [Wolfgang Aigner](http://mc.fhstp.ac.at/people/wolfgang-aigner)


### c) [Marc Streit](http://www.marc-streit.com/)

# 三、用户任务
- T1.改变的类型
	- 用户能逐行、逐列、逐单元的定位发生改变的类型
- T2.随着时间比较多种表格版本
	- 多个表版本之间的汇总差异概况
	- 两个连续表版本之间发生了多少次更改
- T3.比较两个时间点下的同一张表
- T4.展示原始数据和元数据
	- 原始数据：表格改变前的上下文数据
	- 元数据：表格额外信息，例如：结构、尺寸、名字、创建日期。


# 四、相关工作
- 比较问题视觉化的设计空间：并置、叠加和显式表示。
	- 并置：单独比较或彼此临近。
	- 叠加：多个对象呈现在相同的坐标系或空间基底。
	- 显式表示（编码）：根据对象差异来计算关系，并进行可视化编码。因此不需要用户比较或找差异，它们已经被计算出来了。
- 相关工作：也是当前发展现状
	- 研究比较可视化技术
	- 研究常见的差异化工具和库
- 结论：
	- 三种基本比较可视化技术都有使用案例。然而，还没有一种方法能解决本文提出的所有必要的变化类型和任务。
	- TACO 用于弥补这一缺陷，促进对大型表格数据集的有效的视觉比较。

# 五、计算改变
- 成对比较表：结果是一个联合表，其中包含了出现在任何一个输入表中 的所有的行和列。 
- 联合表是 TACO 视觉展示的基础

![](/images/TACO1.png)

# 六、可视化概念
- multi-level overview+detail：自顶到底有三个等级的细节
	1. 聚合的、基于时间的预览，沿着一条 timeline
	2. 两个表格版本的比较，包含元信息、各个改变类型的分布
	3. 基于热力图的深度比较视图，允许将变化研究到单个单元值（cell）的等级
- 接下来详细讨论了每个展示等级的细节、解释了设计原因、介绍了总体交互概念。

![](/images/TACO2.png)

## 6.1 多级变化聚合
- diff table
- 单维度聚合：
	- 在 diff table 中，聚合应用于表格的每个维度，这意味着，每行或列上被影响的单元数量将以直方图的形式展示。
	- 我们只考虑单个维度上的改变（eg：行），忽视其他维度上的改变（eg：列）
- 深度聚合：
	- 将直方图聚合成 bins，bins 数量由直方图宽度和高度决定
	- 这样的表示更紧凑，但付出了变化的位置更不精确的代价
- 深度概要：
	- 同时对表格的两个维度进行聚合，提供一个更紧凑的对不同类型的变化的关系总览。
	- 完全失去了位置信息
- 总体总结：
	- 堆叠条形图，总结了各个变化类型的全局占比。
	- 完全没有任何行、列的相关信息。

![](/images/TACO3.png)

## 6.2 可视化组件
- 三层细节等级
- control bar：自由选择展示或隐藏不同的变化类型。
- 配色方案：考虑到红绿色盲患者使用的问题

## 6.3 等级一：沿着时间线的变化总览
- 使用堆叠条形图作为每个表格版本的总结，是基于前一个时间点的表格版本的变化，放置于时间轴上。
- 重排序是默认禁用的，因为重排序的是内容改变的一种，因此会重复计数。对重排序的可视化是令用户迷惑的（overlapping），有此项需求的用户可以开启此功能。

## 6.4 等级二：聚合成对比较
- 左边的更老，右边的时间更近
- hover 时显示百分比
- select，显示等级三的细节

![](/images/TACO4.png)

## 6.5 等级三：详细成对比较
- Heatmap 的形式，表现 Raw table 及其之间的比较。优点在于对大型数据集的可拓展性。
	- hover a cell 会显示对应的行号、列号和值。
	- select a cell 会多个视图对应高亮。
- 灰度调色板：代表单元格值，添加了文本标签（但文本标签的使用在大型数据集中难以拓展）
- 颜色编码的 diff heatmap：可视化了两个表格的 union，代表表格间的异同。
	- 结构化的变化
	- 内容变化：将不同的程度量化（增减）
	- 重排序变化：slope graph，左右下三个盒子来代表行和列的重排序。按钮隐藏 diff heatmap 会使跟踪更加容易
	- 合并/分解变化：Y-connector，三个盒子和重排序类似。如果是连续的，则 Y-connector 内部是填充的。

![](/images/TACO5.png)

# 七、实现
- D3.js + TypeScript + Flask + Phovea
- [用户场景在线使用](https://taco.caleydoapp.org)
- [Github 源代码](https://github.com/Caleydo/taco/)

![](/images/TACO7.png)

# 八、用户场景
- 场景说明
	- 夏季奥运会数据集
	- 癌症基因组学数据集
- 评估说明：现有工具都不支持对不同变化类型进行编码，所以作者决定不进行正式评估，因为这只能证明别的方法的局限性。但是，作者相信强大的使用场景足以证明技术的有效性

## 8.1 夏季奥运会
![](/images/TACO6.png)

# 九、讨论和局限性
- 各种各样的表格：
	- 现状：现在的 TACO 只能比较同种表格
	- 研究方向：需要一个特定的正常化统一化的方法和视觉编码来处理各种各样的输入表
- 单个 Item 的深入：
	- 现状：大型表格对单个 item 的操作难以支持
	- 研究方向：引入 Focus + Context
- 热力图的局限性
	1. 现状：信息密度的局限性，细节信息难以从密集的热力图中获取。热力图从某些方面来说是无关紧要的。
	2. 长宽比：
		- 现状：行列数量差距过大，长宽比失衡，且屏幕像素点不足。
		- 研究方向：
			1. 将表格变形扭曲TC
			2. 加滚动条（对获得总览有影响）
			3. 聚合行或列
			4. 彩色编制，定义区域内的像素是随机置换的
- 合并和分解型变化
	- 现状：用户场景缺乏合并和分解类型的变化，未展现在原型中。
- 可拓展性和性能
- 用户任务
	- 现状：比较任务实际上被包含在对应的任务空间，有关比较性质的细节尚未在更系统的层面上讨论。比较任务的完整分类仍未详尽定义。
	- 本文：提出以下三个比较维度
		1. 要比较的元素数量：2个还是多个
		2. 变化类型：结构 vs 内容 vs 重排序 vs 合并/分解
		3. 时间：线性与分支
	- 研究方向：更好的完善比较任务，在变化计算、视觉表示和交互等方面
- 检测变化的语义



